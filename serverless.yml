service: demo-serverless
 
provider:
  name: aws
  runtime: java11
  region: us-east-1
  memorySize: 1024
  timeout: 10
  iamRoleStatements:
    - Effect: 'Allow'
      Action:
        - 's3:*'
      Resource:
        - 'arn:aws:s3:::${self:custom.orderEventBucket}/*'
        - !Join ['', ['arn:aws:s3:::', !Ref ServerlessDeploymentBucket, '/*']]
 
custom:
  orderEventBucket: order-event-bucket-rieckpil
 
package:
  artifact: target/demo-serverless-1.0.0-shaded.jar
  
functions:
  saludo:
    handler: org.springframework.cloud.function.adapter.aws.FunctionInvoker
    environment:
      SPRING_CLOUD_FUNCTION_DEFINITION: saludo